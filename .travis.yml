language: java
env:
  global:
  - secure: FhksNR0NDATzkzuPBKICH+Dp+bFDRnI+IiQbdMwteTTfR/OLChSaTPctv/A0ChWpUrYqMMRe+lLNiJfELJmDrV4sC1ApacXc1fxtTRcu5WreIXidZox3uyGKosKslNPylwW1OxQPkksf37euTfLR5DJxONuyjG1hQ8DLeHu2slPEjqI5oyVg56lxIn3UDFyGz9FOA3tYmzXEERUHBoX8ainGzLaItQFC/ukme8KJi4wJtNQvdgwQ/LjAV6hFOcKsHxdhdLRtyiVKVZD5U15nzNUsDFMxjqk3wMknUxBbtgEQWqCxrWuhfJMONI/FiJ5d88OpK4vPmlAAhcaWSf+0Mncj66TfAX/sMKlz0ybEpVe7wpNMWC7SsEJDkLDZ3Be7yJIlArjKDaUphLK04yP9ZBHY7ijRzMbgVDGc9K1/TmqVgRIYjbIEUIm4G46/JMF9WgkN+k6z8OY3t/6usyR+EfBRw26By4pzm4nxxEmWszF4+gg8CdC9VzNFcx/UZHq0m7VnOt8zej3twv2Mj8Q/hqESXSHFe0uVrrSXXl/qa4T8LWcr+brTBsXWYv0VggI9/fCC/7abzefJE/l2trHRmt8Ufm9xsgt8kH0SW8LVsxGvHAIGEhO99EthNW9iyYXO+kQHcH7ThcPfEX8wfZd06VDZbD9aCEqNA1Ll6zJ0L2s=
  - secure: UQAipH1Qy34W8nq5sWBGFLJrdCDaodTfzYMZa7rUK11Z2EXyNe8fA7pD+WdQeXQBAO0WEIbYkI1K2vnI5d6KquqPKkt9iQjfpHAtA08Bk39HwV/U5yfj3Au80Ko0J4K9vp9IjRFusvAcEMfoz9+EjuHSkvM6K2fzdNR1LCF/rnaDFfhM/+PbMntBJCKFZUXdDyBT/bEDv9mH+W85MCYMsOoh+UJaqLsJ3pRWxsfCbXTi1qQauc+V9Rqbi4U7UTig5ZgMuOQFR2bGmxIE2K4k31rJpkylffUD1P3GIMIdFzHUA3xShA55Yzi15rL4e1tOKMEWNbsaTnIuog+LBJXjXVetXHkbLrV5V30gMDatp5KuCTpYAHz3a3K65GtYfn6XmnybVD5T6zO42SFBDvVClrP0RmIfz2R/qMs/0YRTarcn2tt9T6A3aMNrbrqJFSdh8abnIbQQj245R4gvxR38Q8PLNq4uA7QS3Iy21BDKQ22hP0WAEe3MziGzZnXay/cu9xfa9NEPfWELMRX7aOnUeLjefY4rf4czz5FdtA9/gxGW2wzQJTKn9yfrdzizN3qayE9gS74dpcI1r9LHstRWNlgNI9lRsbgHcLnCgJ9iqnG26fW8qGYyBXmnukufj4p59dUeFzPL66ri76ldjkgfC6ZKo984voAYH5PWGXHM4DA=
  - secure: VGD6ftrhT48aTwPeyMrz2W4ytYXzgQC2OHO1rm351qU54DQ1zabwNr/5e7Ns1PwPsx1lykDTz3nOR+1ilbO3RGJrxGN8ksWamTuuFZRTUp2DijTPHnBTmnqaVrC2sWbzCnRurYKk77C8NFACiBDTbOtRQjWOTvqnES8f7d2abYK14sqXVrIZEowHjKaeOoIrMTvF6ikJFlUY/+3Xq+cyZ3dpe8M+evrfIzuqNVnEo8XngX+aqRTcXBRBLsfskO4SZdC4TT+Dy4o5Msm+rEMSskzSOyBy/VZGORebCGoDTFKWJs9DrONmvwAZ2I037f3HyhyCuSyFZjFtmiHJJvor2Iz6OBA2y0pFOMCn5lqFEL8RYmtZlL/A3FcYtpiOPbDuuy2qQLSqnOqlzt3u3rPP+0fSzuc2Zs9+es2QlLM8Scqb0HWo8nErCrFePoqZK27/TsOhlICUgfrkMFwkK+H7ZgPt+EoixdZST4fZ0VgytxgprSHZVN5NfrclkucYJkqUUmF6NsNEa7rbtzUkNw2DBIrK7OmCu+N5fSQ5D0McNN17MytAXr9rJASmbclJmfYEc3aTPb048TCuNmXLf4CebV84Ba/TtdQhw4TbsElGjNNPR7e1MimPgSvrjoAFV3xbVzE44JZ9z0wcPORDumLzWgpv4SsV4hYjQQ7LHJPWu2U=
  - secure: BRzgnp0OR/VPq9Gumk5mQjA40Aj8dkIaHYzn0z8JrHDmuk9ATeCgBOI2sfzCF+0pueWnCipae+LFxMymKtUHmviLx0Cpdj5nAXSmJoonuUcrLuRZSHKELInhetzPqA7yaOwC+gqA5IQrV61FBm5NZHDLrJF9tvZooSFsvBmChJZyNw61+SICqzlg7nZPtdB7CbTau4mxLWaFCWK8M+RQ7kmefcLwjN9aBorN9W6FYXXzB8zBzwGu0Ivrm7LOHhpcPqZrP77Fra8kz6xfEidwFo0TYlEsLhsoyqzjcdb1/qzcuqCF0gEu/fPcYNJ7L1RZIwbk64ZbLRUTbTfCRuGaYD6hX9j0zXFCsH72Pouvoqz3dPpqbtoDoU49msqAj7zpkAsx+auk5/aDj+zaSU0fuP8zcgsyE2DblR+KV5LceNKwBELjrOKHn8EiLjGGgp4CeZlFpIpAmzvnvm8nE35BB3NEQsz74SUXuDdb/rqoK4Q67yH38NQkT00wOtWhwRHtxu9NKk0JZe6CL8gTEm5P6II7Qh+gke8JXnDGuvmyS2lvZhm2caph0Z4NrSVhG3ZwTUnmu4x8iYHO30MZskRVVIc6u5SaI98Y9OiJu8iD+E/PjL2tw2GOOtM3qGxGic/E5384fWsJb91DIJzAhljTyYhB39ntvVQ1vnrBEcJ66r0=

before_install:
  - sudo apt-get install jq
  - wget -O ~/codacy-coverage-reporter-assembly-latest.jar $(curl https://api.github.com/repos/codacy/codacy-coverage-reporter/releases/latest | jq -r .assets[0].browser_download_url)

script:
  - mvn verify -B

cache:
  directories:
    - ~/.m2/repository

after_success:
  - java -cp ~/codacy-coverage-reporter-assembly-latest.jar com.codacy.CodacyCoverageReporter -l Scala -r $TRAVIS_BUILD_DIR/dates/target/site/jacoco/jacoco.xml
  - ./.travis/before-deploy.sh
  - ./.travis/deploy.sh